{"ast":null,"code":"import _asyncToGenerator from \"/home/roger/repos/rogercanalstudios/angular-Test/dashboardCMS_Test/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/core/service/administrators.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\n\nfunction ViewLoginComponent_span_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 11);\n    i0.ɵɵtext(1, \"Please enter valid credentials.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ViewLoginComponent_span_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 12);\n    i0.ɵɵtext(1, \"There has been an error while login in.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport class ViewLoginComponent {\n  constructor(router, adminService) {\n    this.router = router;\n    this.adminService = adminService;\n    this.isPasswordVisible = true;\n    this.errorOnLogin = false;\n  }\n\n  changePasswordVisibility() {\n    this.isPasswordVisible = !this.isPasswordVisible;\n  }\n\n  onLogIn() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      if (!_this.username || !_this.password) {\n        _this.isFormValid = false;\n        return;\n      }\n\n      if (new Date().getTime() % 2 === 0) {\n        _this.errorOnLogin = true;\n        return;\n      }\n\n      const administrator = {\n        id: 50,\n        username: _this.username\n      }; // aqui passariem l'administrador a TOKEN i el posem al local storage\n\n      localStorage.setItem('log_token', 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJ1c2VybmFtZSI6ImFkbWluaXN0cmF0b3JAYXdlc29tZS5jb20iLCJwb2xpY3lfZGV0YWlscyI6Int9In0.QPk_ZEjMppU47jVkSzeYgBdSCQzhhh9HVBA-wvoZqhg'); // el guardem al service d'administrador per utilitzar-lo a l'aplicació\n\n      _this.adminService.setAdministrator(administrator);\n\n      yield _this.router.navigate(['dashboard']);\n    })();\n  }\n\n}\n\nViewLoginComponent.ɵfac = function ViewLoginComponent_Factory(t) {\n  return new (t || ViewLoginComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.AdministratorsService));\n};\n\nViewLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ViewLoginComponent,\n  selectors: [[\"app-view-login\"]],\n  decls: 18,\n  vars: 4,\n  consts: [[1, \"container\"], [\"src\", \"/assets/login-assets/svg/login-illustration.svg\"], [1, \"form-container\"], [1, \"input-container\"], [\"src\", \"/assets/login-assets/svg/user.svg\", 1, \"icon\"], [\"name\", \"username\", \"placeholder\", \"Enter username\", \"type\", \"text\", 3, \"ngModel\", \"ngModelChange\"], [\"src\", \"/assets/login-assets/svg/lock.svg\", 1, \"icon\"], [\"name\", \"password\", \"placeholder\", \"Enter password\", \"type\", \"password\", 3, \"ngModel\", \"ngModelChange\"], [3, \"click\"], [\"class\", \"invalid\", 4, \"ngIf\"], [\"class\", \"error\", 4, \"ngIf\"], [1, \"invalid\"], [1, \"error\"]],\n  template: function ViewLoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\");\n      i0.ɵɵelement(2, \"img\", 1);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\")(4, \"div\", 2)(5, \"h1\");\n      i0.ɵɵtext(6, \"Enter credentials\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"form\")(8, \"div\", 3);\n      i0.ɵɵelement(9, \"img\", 4);\n      i0.ɵɵelementStart(10, \"input\", 5);\n      i0.ɵɵlistener(\"ngModelChange\", function ViewLoginComponent_Template_input_ngModelChange_10_listener($event) {\n        return ctx.username = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(11, \"div\", 3);\n      i0.ɵɵelement(12, \"img\", 6);\n      i0.ɵɵelementStart(13, \"input\", 7);\n      i0.ɵɵlistener(\"ngModelChange\", function ViewLoginComponent_Template_input_ngModelChange_13_listener($event) {\n        return ctx.password = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(14, \"button\", 8);\n      i0.ɵɵlistener(\"click\", function ViewLoginComponent_Template_button_click_14_listener() {\n        return ctx.onLogIn();\n      });\n      i0.ɵɵtext(15, \"Login\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(16, ViewLoginComponent_span_16_Template, 2, 0, \"span\", 9);\n      i0.ɵɵtemplate(17, ViewLoginComponent_span_17_Template, 2, 0, \"span\", 10);\n      i0.ɵɵelementEnd()()()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"ngModel\", ctx.username);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx.password);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.isFormValid === false);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.errorOnLogin);\n    }\n  },\n  dependencies: [i3.NgIf, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.NgModel, i4.NgForm],\n  styles: [\"@font-face {\\n  font-family: \\\"Inter-Bold\\\";\\n  src: url(\\\"/assets/login-assets/font/Inter-Bold.ttf\\\") format(\\\"truetype\\\");\\n}\\n@font-face {\\n  font-family: \\\"Inter-Regular\\\";\\n  src: url(\\\"/assets/login-assets/font/Inter-Regular.ttf\\\") format(\\\"truetype\\\");\\n}\\nbody[_ngcontent-%COMP%] {\\n  margin: 0;\\n  padding: 0;\\n  font-family: \\\"Inter-Regular\\\";\\n}\\n.container[_ngcontent-%COMP%] {\\n  background-color: #f1f5f9;\\n  width: 100vw;\\n  height: 100vh;\\n  display: flex;\\n}\\n.container[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%] {\\n  width: 50%;\\n}\\n.container[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%]:nth-child(1) {\\n  background-color: #0b2239;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n}\\n.container[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%]:nth-child(2) {\\n  background-color: #d8e1ee;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n}\\n.container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%] {\\n  background-color: #0b2239;\\n  border-radius: 5px;\\n  padding: 60px;\\n  max-width: 500px;\\n}\\n.container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%] {\\n  color: #f1f5f9;\\n  font-size: 40px;\\n  margin-top: 0;\\n}\\n.container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-wrap: wrap;\\n}\\n.container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%] {\\n  width: 100%;\\n  position: relative;\\n}\\n.container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%] {\\n  position: absolute;\\n  width: 20px;\\n  opacity: 0.6;\\n  left: 15px;\\n  top: 50%;\\n  transform: translateY(-50%);\\n}\\n.container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\n  width: 75%;\\n  padding: 15px 15px 15px 45px;\\n  margin: 10px 0;\\n  font-size: 18px;\\n  border: none;\\n  border-radius: 10px;\\n  outline: none;\\n}\\n.container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n  font-size: 18px;\\n  padding: 10px 30px;\\n  border: 2px solid #f1f5f9;\\n  border-radius: 10px;\\n  background-color: #0b2239;\\n  color: #f1f5f9;\\n  font-weight: 600;\\n  margin-top: 23px;\\n  margin-bottom: 20px;\\n  cursor: pointer;\\n}\\n.container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover {\\n  background-color: #f1f5f9;\\n  color: #000807;\\n}\\n.container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\\n  display: block;\\n  width: 100%;\\n  font-weight: 900;\\n}\\n.container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   span.invalid[_ngcontent-%COMP%] {\\n  color: orange;\\n}\\n.container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   span.error[_ngcontent-%COMP%] {\\n  color: red;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3N0eWxlcy5zY3NzIiwidmlldy1sb2dpbi5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLHlCQUFBO0VBQ0EsdUVBQUE7QUNDSjtBREVBO0VBQ0ksNEJBQUE7RUFDQSwwRUFBQTtBQ0FKO0FER0E7RUFDSSxTQUFBO0VBQ0EsVUFBQTtFQUNBLDRCQUFBO0FDREo7QUFWQTtFQUNJLHlCRGdCZ0I7RUNmaEIsWUFBQTtFQUNBLGFBQUE7RUFDQSxhQUFBO0FBYUo7QUFYSTtFQUNJLFVBQUE7QUFhUjtBQVhRO0VBQ0kseUJEVU07RUNUTixhQUFBO0VBQ0EsbUJBQUE7RUFDQSx1QkFBQTtBQWFaO0FBVlE7RUFDSSx5QkRDTztFQ0FQLGFBQUE7RUFDQSxtQkFBQTtFQUNBLHVCQUFBO0FBWVo7QUFSSTtFQUNJLHlCRExVO0VDTVYsa0JBQUE7RUFDQSxhQUFBO0VBQ0EsZ0JBQUE7QUFVUjtBQVJRO0VBQ0ksY0RkUTtFQ2VSLGVBQUE7RUFDQSxhQUFBO0FBVVo7QUFQUTtFQUNJLGFBQUE7RUFDQSxlQUFBO0FBU1o7QUFQWTtFQUNJLFdBQUE7RUFDQSxrQkFBQTtBQVNoQjtBQVBnQjtFQUNJLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxVQUFBO0VBQ0EsUUFBQTtFQUNBLDJCQUFBO0FBU3BCO0FBTFk7RUFDSSxVQUFBO0VBQ0EsNEJBQUE7RUFDQSxjQUFBO0VBQ0EsZUFBQTtFQUNBLFlBQUE7RUFDQSxtQkFBQTtFQUNBLGFBQUE7QUFPaEI7QUFKWTtFQUNJLGVBQUE7RUFDQSxrQkFBQTtFQUNBLHlCQUFBO0VBQ0EsbUJBQUE7RUFDQSx5QkRqREU7RUNrREYsY0RyREk7RUNzREosZ0JBQUE7RUFDQSxnQkFBQTtFQUNBLG1CQUFBO0VBQ0EsZUFBQTtBQU1oQjtBQUpnQjtFQUNJLHlCRDVEQTtFQzZEQSxjRHpERDtBQytEbkI7QUFGWTtFQUNJLGNBQUE7RUFDQSxXQUFBO0VBQ0EsZ0JBQUE7QUFJaEI7QUFGZ0I7RUFDSSxhQUFBO0FBSXBCO0FBRGdCO0VBQ0ksVUFBQTtBQUdwQiIsImZpbGUiOiJ2aWV3LWxvZ2luLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiQGZvbnQtZmFjZSB7XG4gICAgZm9udC1mYW1pbHk6ICdJbnRlci1Cb2xkJztcbiAgICBzcmM6IHVybCgnL2Fzc2V0cy9sb2dpbi1hc3NldHMvZm9udC9JbnRlci1Cb2xkLnR0ZicpIGZvcm1hdCgndHJ1ZXR5cGUnKTsgLy8gQ2hyb21lIDQrLCBGaXJlZm94IDMuNSwgT3BlcmEgMTArLCBTYWZhcmkgM+KAlDVcbn1cblxuQGZvbnQtZmFjZSB7XG4gICAgZm9udC1mYW1pbHk6ICdJbnRlci1SZWd1bGFyJztcbiAgICBzcmM6IHVybCgnL2Fzc2V0cy9sb2dpbi1hc3NldHMvZm9udC9JbnRlci1SZWd1bGFyLnR0ZicpIGZvcm1hdCgndHJ1ZXR5cGUnKTsgLy8gQ2hyb21lIDQrLCBGaXJlZm94IDMuNSwgT3BlcmEgMTArLCBTYWZhcmkgM+KAlDVcbn1cblxuYm9keSB7XG4gICAgbWFyZ2luOiAwO1xuICAgIHBhZGRpbmc6IDA7XG4gICAgZm9udC1mYW1pbHk6ICdJbnRlci1SZWd1bGFyJztcbn1cblxuJGZvbnQtcmVndWxhcjogSW50ZXItUmVndWxhcjtcbiRmb250LWJvbGQ6IEludGVyLUJvbGQ7XG5cbiR3aGl0ZS1jbGVhci1jb2xvcjogI2YxZjVmOTtcbiR3aGl0ZS1kYXJrLWNvbG9yOiAjZDhlMWVlO1xuJGJsdWUtY2xlYXItY29sb3I6ICMxZTQ2ZDk7XG4kYmx1ZS1kYXJrLWNvbG9yOiAjMGIyMjM5O1xuJGJsYWNrLWRhcmstY29sb3I6ICMwMDA4MDc7IiwiQGltcG9ydCAnLi4vLi4vLi4vc3R5bGVzJztcblxuLmNvbnRhaW5lciB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogJHdoaXRlLWNsZWFyLWNvbG9yO1xuICAgIHdpZHRoOiAxMDB2dztcbiAgICBoZWlnaHQ6IDEwMHZoO1xuICAgIGRpc3BsYXk6IGZsZXg7XG5cbiAgICA+IGRpdiB7XG4gICAgICAgIHdpZHRoOiA1MCU7XG5cbiAgICAgICAgJjpudGgtY2hpbGQoMSkge1xuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJGJsdWUtZGFyay1jb2xvcjtcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgICY6bnRoLWNoaWxkKDIpIHtcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR3aGl0ZS1kYXJrLWNvbG9yO1xuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC5mb3JtLWNvbnRhaW5lciB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICRibHVlLWRhcmstY29sb3I7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgICAgICAgcGFkZGluZzogNjBweDtcbiAgICAgICAgbWF4LXdpZHRoOiA1MDBweDtcblxuICAgICAgICBoMSB7XG4gICAgICAgICAgICBjb2xvcjogJHdoaXRlLWNsZWFyLWNvbG9yO1xuICAgICAgICAgICAgZm9udC1zaXplOiA0MHB4O1xuICAgICAgICAgICAgbWFyZ2luLXRvcDogMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvcm0ge1xuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgIGZsZXgtd3JhcDogd3JhcDtcblxuICAgICAgICAgICAgLmlucHV0LWNvbnRhaW5lciB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuXG4gICAgICAgICAgICAgICAgLmljb24ge1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiAyMHB4O1xuICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAwLjY7XG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IDE1cHg7XG4gICAgICAgICAgICAgICAgICAgIHRvcDogNTAlO1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpbnB1dCB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IDc1JTtcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiAxNXB4IDE1cHggMTVweCA0NXB4O1xuICAgICAgICAgICAgICAgIG1hcmdpbjogMTBweCAwO1xuICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMThweDtcbiAgICAgICAgICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgICAgICAgICAgICAgICBvdXRsaW5lOiBub25lO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBidXR0b24ge1xuICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMThweDtcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiAxMHB4IDMwcHg7XG4gICAgICAgICAgICAgICAgYm9yZGVyOiAycHggc29saWQgJHdoaXRlLWNsZWFyLWNvbG9yO1xuICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJGJsdWUtZGFyay1jb2xvcjtcbiAgICAgICAgICAgICAgICBjb2xvcjogJHdoaXRlLWNsZWFyLWNvbG9yO1xuICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgICAgICAgICAgICAgbWFyZ2luLXRvcDogMjNweDtcbiAgICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xuICAgICAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcblxuICAgICAgICAgICAgICAgICY6aG92ZXIge1xuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkd2hpdGUtY2xlYXItY29sb3I7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiAkYmxhY2stZGFyay1jb2xvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNwYW4ge1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA5MDA7XG5cbiAgICAgICAgICAgICAgICAmLmludmFsaWQge1xuICAgICAgICAgICAgICAgICAgICBjb2xvcjogb3JhbmdlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICYuZXJyb3Ige1xuICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0iXX0= */\"]\n});","map":{"version":3,"mappings":";;;;;;;;;IAoEgBA;IAAoDA;IAA+BA;;;;;;IACnFA;IAAyCA;IAAuCA;;;;ACzDhG,OAAM,MAAOC,kBAAP,CAAyB;EAO7BC,YACUC,MADV,EAEUC,YAFV,EAE6C;IADnC;IACA;IANH,yBAA6B,IAA7B;IAEA,oBAAwB,KAAxB;EAKF;;EAEEC,wBAAwB;IAC7B,KAAKC,iBAAL,GAAyB,CAAC,KAAKA,iBAA/B;EACD;;EAEYC,OAAO;IAAA;;IAAA;MAClB,IAAI,CAAC,KAAI,CAACC,QAAN,IAAkB,CAAC,KAAI,CAACC,QAA5B,EAAsC;QACpC,KAAI,CAACC,WAAL,GAAmB,KAAnB;QACA;MACD;;MAED,IAAI,IAAIC,IAAJ,GAAWC,OAAX,KAAuB,CAAvB,KAA6B,CAAjC,EAAoC;QAClC,KAAI,CAACC,YAAL,GAAoB,IAApB;QACA;MACD;;MAED,MAAMC,aAAa,GAAkB;QACnCC,EAAE,EAAE,EAD+B;QAEnCP,QAAQ,EAAE,KAAI,CAACA;MAFoB,CAArC,CAXkB,CAelB;;MACAQ,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkC,kLAAlC,EAhBkB,CAiBlB;;MACA,KAAI,CAACb,YAAL,CAAkBc,gBAAlB,CAAmCJ,aAAnC;;MACA,MAAM,KAAI,CAACX,MAAL,CAAYgB,QAAZ,CAAqB,CAAC,WAAD,CAArB,CAAN;IAnBkB;EAoBnB;;AApC4B;;;mBAAlBlB,oBAAkBD;AAAA;;;QAAlBC;EAAkBmB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MD6B/BxB,+BAAuB,CAAvB,EAAuB,KAAvB;MAEQA;MACJA;MACAA,4BAAK,CAAL,EAAK,KAAL,EAAK,CAAL,EAAK,CAAL,EAAK,IAAL;MAEYA;MAAiBA;MACrBA,6BAAM,CAAN,EAAM,KAAN,EAAM,CAAN;MAEQA;MACAA;MAEIA;QAAA;MAAA;MAFJA;MAOJA;MACIA;MACAA;MAEIA;QAAA;MAAA;MAFJA;MAOJA;MAAQA;QAAA,OAASyB,aAAT;MAAkB,CAAlB;MAAoBzB;MAAKA;MACjCA;MACAA;MACJA;;;;MAjBYA;MAAAA;MASAA;MAAAA;MAMDA;MAAAA;MACAA;MAAAA","names":["i0","ViewLoginComponent","constructor","router","adminService","changePasswordVisibility","isPasswordVisible","onLogIn","username","password","isFormValid","Date","getTime","errorOnLogin","administrator","id","localStorage","setItem","setAdministrator","navigate","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/home/roger/repos/rogercanalstudios/angular-Test/dashboardCMS_Test/src/app/login/view/view-login.component.html","/home/roger/repos/rogercanalstudios/angular-Test/dashboardCMS_Test/src/app/login/view/view-login.component.ts"],"sourcesContent":["<!--<div class=\"view-container\">\n    <div class=\"container\">\n        <div class=\"ilu-div\">\n            <img src=\"/assets/login-assets/svg/undraw_starry_window_re_0v82.svg\" />\n        </div>\n        <div class=\"log-div\">\n            <form class=\"form-container\">\n                <h1>Welcome!</h1>\n                <div class=\"input-container\" >\n                    <div class=\"icon\"></div>\n                    <input \n                        type=\"text\" \n                        name=\"username\"\n                        [(ngModel)]=\"username\"\n                        id=\"username\" \n                        placeholder=\"Username\" \n                    />\n                </div>\n                <div class=\"input-container\" >\n                    <div class=\"icon\"></div>\n                    <input  \n                        type=\"{{ isPasswordVisible ? 'password' : 'text'}}\" \n                        name=\"password\"\n                        [(ngModel)]=\"password\"\n                        id=\"password\" \n                        placeholder=\"Password\" \n                    />\n                    <button\n                        class=\"{{ isPasswordVisible ? 'hidePas' : 'showPas'}}\"\n                        type=\"checkbox\"\n                        (click)=\"changePasswordVisibility()\"\n                    >X</button>\n                </div>\n                <div>\n                    <button class=\"buttonlog\" (click)=\"onLogIn()\">LOG IN</button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>-->\n\n<div class=\"container\">\n    <div>\n        <img src=\"/assets/login-assets/svg/login-illustration.svg\" />\n    </div>\n    <div>\n        <div class=\"form-container\">\n            <h1>Enter credentials</h1>\n            <form>\n                <div class=\"input-container\">\n                    <img class=\"icon\" src=\"/assets/login-assets/svg/user.svg\" />\n                    <input\n                        name=\"username\"\n                        [(ngModel)]=\"username\"\n                        placeholder=\"Enter username\"\n                        type=\"text\"\n                    />\n                </div>\n                <div class=\"input-container\">\n                    <img class=\"icon\" src=\"/assets/login-assets/svg/lock.svg\" />\n                    <input\n                        name=\"password\"\n                        [(ngModel)]=\"password\"\n                        placeholder=\"Enter password\"\n                        type=\"password\"\n                    />\n                </div>\n                <button (click)=\"onLogIn()\">Login</button>\n                <span *ngIf=\"isFormValid === false\" class=\"invalid\">Please enter valid credentials.</span>\n                <span *ngIf=\"errorOnLogin\" class=\"error\">There has been an error while login in.</span>\n            </form>\n        </div>\n    </div>\n</div>","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\n\nimport { Administrator } from 'src/app/core/data_models/administrator';\nimport { AdministratorsService } from 'src/app/core/service/administrators.service';\n\n@Component({\n  selector: 'app-view-login',\n  templateUrl: './view-login.component.html',\n  styleUrls: ['./view-login.component.scss']\n})\n\nexport class ViewLoginComponent {\n  public username: string;\n  public password: string;\n  public isPasswordVisible: boolean = true;\n  public isFormValid: boolean;\n  public errorOnLogin: boolean = false;\n\n  constructor(\n    private router: Router,\n    private adminService: AdministratorsService\n  ) { }\n  \n  public changePasswordVisibility(): void {\n    this.isPasswordVisible = !this.isPasswordVisible;\n  }\n\n  public async onLogIn(): Promise<void> {\n    if (!this.username || !this.password) {\n      this.isFormValid = false;\n      return;\n    }\n\n    if (new Date().getTime() % 2 === 0) {\n      this.errorOnLogin = true;\n      return;\n    }\n\n    const administrator: Administrator = {\n      id: 50,\n      username: this.username,\n    }\n    // aqui passariem l'administrador a TOKEN i el posem al local storage\n    localStorage.setItem('log_token', 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJ1c2VybmFtZSI6ImFkbWluaXN0cmF0b3JAYXdlc29tZS5jb20iLCJwb2xpY3lfZGV0YWlscyI6Int9In0.QPk_ZEjMppU47jVkSzeYgBdSCQzhhh9HVBA-wvoZqhg')\n    // el guardem al service d'administrador per utilitzar-lo a l'aplicació\n    this.adminService.setAdministrator(administrator);\n    await this.router.navigate(['dashboard']);\n  }\n}\n"]},"metadata":{},"sourceType":"module"}